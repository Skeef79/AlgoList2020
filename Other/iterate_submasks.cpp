for (int mask = 0; mask < (1 << n); ++mask)
{
  for (int s = mask; s; s = (s - 1)&mask)
  {
    //proceed s;		
  }
}
